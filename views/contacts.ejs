<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Контакти Майстерні "Вузлик до вузлика" — Зв'яжіться з нами</title>
    <meta name="description" content="Зв'яжіться з майстернею української вишивки 'Вузлик до вузлика'. Ми завжди раді відповісти на ваші запитання, обговорити індивідуальне замовлення або просто поспілкуватися про мистецтво вишивки.">
    <meta name="keywords" content="контакти, зв'язатися, Вузлик до вузлика, українська вишивка, замовити вишиванку, email, соціальні мережі, Валентина Юрченко, Бровари">
    
   <% if (locals.reCaptchaSiteKey) { %>
        <script src="https://www.google.com/recaptcha/api.js?render=<%= locals.reCaptchaSiteKey %>" async defer></script>
    <% } %>

    <meta property="og:title" content="Контакти Майстерні 'Вузлик до вузлика'">
    <meta property="og:description" content="Знайдіть всю необхідну інформацію для зв'язку з нами: email, соціальні мережі. Завжди раді вашим зверненням!">
    <meta property="og:image" content="https://vuzlyk.com/images/og-image.jpg">
    <meta property="og:url" content="https://vuzlyk.com/contacts">
    <meta property="og:type" content="website">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Контакти - Вузлик до вузлика">
    <meta name="twitter:description" content="Зв'яжіться з нами для замовлень та запитань.">
    <meta name="twitter:image" content="https://vuzlyk.com/images/og-image.jpg">
    
    <link rel="canonical" href="https://vuzlyk.com/contacts">

    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

    <link rel="icon" type="image/png" href="/images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/images/favicon/site.webmanifest" />

    <% if (locals.isProduction && locals.gaMeasurementId) { %>
        <script async src="https://www.googletagmanager.com/gtag/js?id=<%= locals.gaMeasurementId %>"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'AW-17036727455');
          gtag('config', '<%= locals.gaMeasurementId %>');
        </script>
    <% } %>

    <link rel="preload" href="/fonts/montserrat-v29-cyrillic_latin-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/roboto-v47-cyrillic_latin-regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/contacts-page.css"> 
    
    <link rel="preload" href="https://unpkg.com/aos@next/dist/aos.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"></noscript>
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" xintegrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" xintegrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" /></noscript>

    <link rel="alternate" href="https://vuzlyk.com/contacts" hreflang="uk-UA" />
    <meta name="robots" content="index, follow">

<script type="application/ld+json">
<%
  const _pageTitle = "Контакти Майстерні 'Вузлик до вузлика' — Зв'яжіться з нами";
  const _pageDescription = "Зв'яжіться з майстернею української вишивки 'Вузлик до вузлика'. Ми завжди раді відповісти на ваші запитання, обговорити індивідуальне замовлення або просто поспілкуватися про мистецтво вишивки.";
  const _canonicalUrl = (typeof baseUrl === 'string' ? baseUrl : 'https://vuzlyk.com') + '/contacts';
  const _baseUrl = typeof baseUrl === 'string' ? baseUrl : 'https://vuzlyk.com';
  const _datePublished = "2024-05-23"; 
  const _dateModified = new Date().toISOString().split('T')[0]; 

  const graph = [];

  graph.push({
    "@type": "ContactPage",
    "@id": _canonicalUrl,
    "url": _canonicalUrl,
    "name": _pageTitle,
    "description": _pageDescription,
    "inLanguage": "uk",
    "datePublished": _datePublished,
    "dateModified": _dateModified,
    "isPartOf": {
      "@type": "WebSite",
      "@id": _baseUrl + "/#website" 
    },
    "breadcrumb": {
      "@id": _canonicalUrl + "#breadcrumb" 
    },
    "mainEntity": {
      "@id": _baseUrl + "/#organization" 
    },
    "publisher": { "@id": _baseUrl + "/#organization" }
  });

  graph.push({
    "@type": "BreadcrumbList",
    "@id": _canonicalUrl + "#breadcrumb",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Головна",
        "item": _baseUrl + "/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Контакти" 
      }
    ]
  });
  
  const organizationStore = {
    "@type": "Store", 
    "@id": _baseUrl + "/#organization", 
    "name": "Вузлик до вузлика",
    "url": _baseUrl + "/",
    "logo": _baseUrl + "/images/logo.webp",
    "image": _baseUrl + "/images/og-image.jpg", 
    "description": "Майстерня унікальної української вишивки ручної роботи. Ексклюзивні вишиванки, рушники та аксесуари, створені з любов'ю та увагою до деталей.",
    "email": "info@vuzlyk.com",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Бровари",
      "addressRegion": "Київська область",
      "addressCountry": "UA"
    },
    "contactPoint": [
      {
        "@type": "ContactPoint",
        "contactType": "Customer Service", 
        "email": "info@vuzlyk.com",
        "areaServed": "UA",     
        "availableLanguage": ["Ukrainian", "English"],
        "hoursAvailable": [ 
          {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": [
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
              "Sunday"
            ],
            "opens": "09:00",
            "closes": "20:00"
          }
        ]
      }
    ],
    "founder": {
        "@type": "Person",
        "@id": _baseUrl + "/#valentyna_yurchenko" 
    },
    "knowsAbout": [ 
      "Українська вишивка", "Вишивка ручної роботи", "Вишиванки", "Рушники", "Етнічний одяг"
    ],
    "paymentAccepted": "Cash, Credit Card, Bank Transfer",
    "priceRange": "$$ - $$$", 
    "currenciesAccepted": "UAH, USD, EUR", 
    "areaServed": { "@type": "Country", "name": "Ukraine" },
    "openingHours": "Mo-Su 09:00-20:00", 
    "sameAs": [ 
      "https://www.instagram.com/valentyna_embroidery/", 
      "https://www.facebook.com/valentina.yurchenko", 
      "https://www.pinterest.com/valentyna_embroidery/"  
    ]
  };
  graph.push(organizationStore);

  const webSite = {
    "@type": "WebSite",
    "@id": _baseUrl + "/#website",
    "url": _baseUrl + "/",
    "name": "Вузлик до вузлика",
    "publisher": {
      "@id": _baseUrl + "/#organization"
    },
    "inLanguage": "uk",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": _baseUrl + "/catalog?search={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  };
  graph.push(webSite);

%>
<%- JSON.stringify({ "@context": "https://schema.org", "@graph": graph }, null, 0) %>
</script>
</head>
<body>
    <%- include('partials/header') %>

    <main class="contacts-page-main">
        <section class="contacts-hero section-padding bg-light">
            <div class="container text-center">
                <h1 class="page-title" data-aos="fade-down">Зв'яжіться з Нами</h1>
                <p class="contacts-subtitle" data-aos="fade-up" data-aos-delay="100">Ми завжди раді вашим запитанням, пропозиціям та замовленням!</p>
            </div>
        </section>

        <section class="contact-details-section section-padding">
            <div class="container">
                <div class="contact-details-grid">
                    <div class="contact-info-block" data-aos="fade-right">
                        <h2 class="contact-block-title">Наша Майстерня</h2>
                        <p><i class="fas fa-map-marker-alt"></i> Україна, Київська область, м. Бровари</p>
                        <p><i class="fas fa-envelope"></i> <a href="mailto:info@vuzlyk.com">info@vuzlyk.com</a></p>
                        <%# Видалено блок з телефоном %>
                        <p><i class="fas fa-clock"></i> Онлайн-замовлення: цілодобово</p>
                        <p><i class="fas fa-comments"></i> Відповіді на запити: Пн-Нд, 9:00 - 20:00</p>
                        
                        <h3 class="social-title">Ми в соціальних мережах:</h3>
                        <div class="social-icons-contact">
                            <a href="https://www.instagram.com/valentyna_embroidery/" target="_blank" rel="noopener noreferrer" aria-label="Instagram Вузлик до вузлика"><i class="fab fa-instagram"></i></a>
                            <a href="https://www.facebook.com/valentina.yurchenko" target="_blank" rel="noopener noreferrer" aria-label="Facebook Валентини Юрченко"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://www.pinterest.com/valentyna_embroidery/" target="_blank" rel="noopener noreferrer" aria-label="Pinterest Вузлик до вузлика"><i class="fab fa-pinterest"></i></a>
                        </div>
                    </div>

                    <div class="contact-form-block" data-aos="fade-left" data-aos-delay="150">
                        <h2 class="contact-block-title">Напишіть Нам</h2>
                        <% if (query.success === 'true') { %>
                            <div class="alert alert-success">Ваше повідомлення успішно відправлено! Ми зв'яжемося з вами найближчим часом.</div>
                        <% } %>
                        <% if (query.error) { %>
                            <div class="alert alert-danger"><%= decodeURIComponent(query.error) %></div>
                        <% } %>
                        <form action="/contacts/send" method="POST" class="contact-form">
                            <div class="form-group">
                                <label for="name">Ваше ім'я <span class="required">*</span></label>
                                <input type="text" id="name" name="name" class="form-control" required value="<%= typeof formData !== 'undefined' ? formData.name : '' %>">
                            </div>
                            <div class="form-group">
                                <label for="email">Ваш Email <span class="required">*</span></label>
                                <input type="email" id="email" name="email" class="form-control" required value="<%= typeof formData !== 'undefined' ? formData.email : '' %>">
                            </div>
                            <div class="form-group">
                                <label for="phone">Ваш телефон (необов'язково)</label>
                                <input type="tel" id="phone" name="phone" class="form-control" value="<%= typeof formData !== 'undefined' ? formData.phone : '' %>">
                            </div>
                            <div class="form-group">
                                <label for="subject">Тема повідомлення</label>
                                <input type="text" id="subject" name="subject" class="form-control" value="<%= typeof formData !== 'undefined' ? formData.subject : '' %>">
                            </div>
                            <div class="form-group">
                                <label for="message">Ваше повідомлення <span class="required">*</span></label>
                                <textarea id="message" name="message" rows="6" class="form-control" required><%= typeof formData !== 'undefined' ? formData.message : '' %></textarea>
                            </div>

 <input type="hidden" id="recaptcha-token-input" name="recaptchaToken">

                            <div class="form-group text-center">
                                <button type="submit" class="btn btn-primary">Відправити повідомлення</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        
    </main>

    <%- include('partials/footer') %>

    <script src="/js/main.js" defer></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js" defer></script>
    <script>
   document.addEventListener('DOMContentLoaded', function() {
        if (typeof AOS !== 'undefined') {
            AOS.init({ once: true, duration: 700, easing: 'ease-out-cubic', offset: 50 });
        }

        const contactForm = document.getElementById('contact-form-recaptcha');
        const recaptchaTokenInput = document.getElementById('recaptcha-token-input'); // Використовуємо ID

        if (contactForm && recaptchaTokenInput) {
            contactForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Завжди зупиняємо стандартну відправку
                console.log('[reCAPTCHA] Form submission intercepted.');

                if (typeof grecaptcha === 'undefined' || typeof grecaptcha.execute === 'undefined') {
                    console.error('[reCAPTCHA] grecaptcha object or execute function is not available. API script might not have loaded correctly or is blocked.');
                    alert('Помилка завантаження сервісу reCAPTCHA. Будь ласка, перевірте консоль браузера та оновіть сторінку.');
                    // Можна спробувати відправити форму без токена, якщо це критично, але це небезпечно
                    // form.submit();
                    return;
                }

                const submitButton = contactForm.querySelector('button[type="submit"]');
                if (submitButton) {
                    submitButton.disabled = true;
                    submitButton.textContent = 'Відправка...';
                }

                grecaptcha.ready(function() {
                    console.log('[reCAPTCHA] grecaptcha is ready. Executing...');
                    grecaptcha.execute('<%= locals.reCaptchaSiteKey %>', { action: 'contact_form_submit' })
                        .then(function(token) {
                            console.log('[reCAPTCHA] Token received from Google:', token);
                            if (token) {
                                recaptchaTokenInput.value = token;
                                console.log('[reCAPTCHA] Token set to hidden field. Value:', recaptchaTokenInput.value);
                                console.log('[reCAPTCHA] Now submitting the form programmatically.');
                                contactForm.submit(); // Відправляємо форму програмно
                            } else {
                                console.error('[reCAPTCHA] Received an empty or null token from Google.');
                                alert('Не вдалося отримати токен reCAPTCHA. Спробуйте ще раз.');
                                if (submitButton) {
                                    submitButton.disabled = false;
                                    submitButton.textContent = 'Відправити повідомлення';
                                }
                            }
                        })
                        .catch(function(error) {
                            console.error('[reCAPTCHA] Error during grecaptcha.execute:', error);
                            alert('Помилка під час перевірки reCAPTCHA. Будь ласка, спробуйте пізніше або перевірте консоль.');
                            if (submitButton) {
                                submitButton.disabled = false;
                                submitButton.textContent = 'Відправити повідомлення';
                            }
                        });
                });
            });
        } else {
            if (!contactForm) console.error('[reCAPTCHA] Contact form with ID "contact-form-recaptcha" not found.');
            if (!recaptchaTokenInput) console.error('[reCAPTCHA] Hidden input with ID "recaptcha-token-input" not found.');
        }
    });
    </script>
</body>
</html>
